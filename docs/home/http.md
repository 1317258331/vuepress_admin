# 网络基础

::: danger 提示
http是前端一个很重点的内容
:::

http是一个我们每天都在使用,但是却不是很熟悉的一个协议,今天我们来看一下这个协议有哪些特点

## http协议特点

* 灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。

* 无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。

* 无状态：无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。

* 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快

## http请求

**http请求由三部分组成，分别是：请求行、消息报头、请求正文**

### 1. 请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本

`Method Request-URI HTTP-Version CRLF` 就是一个请求头其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）。例如-> `GET /index.html HTTP/1.1 (CRLF)`

请求方法（所有方法全为大写）有多种，各个方法的解释如下：

GET 请求获取Request-URI所标识的资源

POST 在Request-URI所标识的资源后附加新的数据

HEAD 请求获取由Request-URI所标识的资源的响应消息报头

PUT 请求服务器存储一个资源，并用Request-URI作为其标识

DELETE 请求服务器删除Request-URI所标识的资源

TRACE 请求服务器回送收到的请求信息，主要用于测试或诊断

CONNECT 保留将来使用

OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求

### 2. 请求头就是我们常用的,比如主机是什么,比如用户标识符userAgent,语言

**常用的请求报头**

* Accept请求报头域用于指定客户端接受哪些类型的信息。eg：Accept：image/gif，表明客户端希望接受GIF图象格式的资源；Accept：text/html，表明客户端希望接受html文本。

* Accept-Charset请求报头域用于指定客户端接受的字符集。eg：Accept-Charset:iso-8859-1,gb2312.如果在请求消息中没有设置这个域，缺省是任何字符集都可以接受。

* Accept-Encoding请求报头域类似于Accept，但是它是用于指定可接受的内容编码。eg：AcceptEncoding:gzip.deflate.如果请求消息中没有设置这个域服务器假定客户端对各种内容编码都可以接受。

* Accept-Language请求报头域类似于Accept，但是它是用于指定一种自然语言。eg：Accept-Language:zh-cn.如果请求消息中没有设置这个报头域，服务器假定客户端对各种语言都可以接受。

* 我们上网登陆论坛的时候，往往会看到一些欢迎信息，其中列出了你的操作系统的名称和版本，你所使用的浏览器的名称和版本，这往往让很多人感到很神奇，实际上，服务器应用程序就是从User-Agent这个请求报头域中获取到这些信息。User-Agent请求报头域允许客户端将它的操作系统、浏览器和其它属性告诉服务器。不过，这个报头域不是必需的，如果我们自己编写一个浏览器，不使用User-Agent请求报头域，那么服务器端就无法得知我们的信息
了。

* Host请求报头域主要用于指定被请求资源的Internet主机和端口号，它通常从HTTP URL中提取出来的

### 3. 请求体这个需要根据方法不同来进行不同的定义

::: tip 请求行
下面的demo中可以看出,第一行是请求行,2-7为请求头,第8行表示一个空行 表示请求头结束 这个空行是必须的,第9行是数据体，比如是需要查询的信息。
:::

```js
GET/sample.jspHTTP/1.1
Accept:image/gif.image/jpeg
Accept-Language:zh-cn
Connection:Keep-Alive
Host:localhost
User-Agent:Mozila/4.0(compatible;MSIE5.01;Window NT5.0)
Accept-Encoding:gzip,deflate

username=jinqiao&password=1234
```

## http响应

**HTTP响应也是由三个部分组成，分别是：状态行、消息报头、响应正文**

### 1. 状态行

`HTTP-Version Status-Code Reason-Phrase CRLF` 其中，HTTP-Version表示服务器HTTP协议的版本；Status-Code表示服务器发回的响应状态代码；ReasonPhrase表示状态代码的文本描述。

::: danger 提示
状态码是重中之重,必须要掌握常用的集中状态码,分别如下
:::

状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：

| 状态码        | 信息           |
| ------------- |:-------------:|
| 1xx      | 指示信息--表示请求已接收，继续处理 |
| 2xx      | 成功--表示请求已被成功接收、理解、接受      |
| 3xx | 重定向--要完成请求必须进行更进一步的操作      |
| 4xx | 客户端错误--请求有语法错误或请求无法实现      |
| 5xx | 服务器端错误--服务器未能实现合法的请求      |

**常用的状态码**

200 OK //客户端请求成功

400 Bad Request //客户端请求有语法错误，不能被服务器所理解

401 Unauthorized //请求未经授权

403 Forbidden //服务器收到请求，但是拒绝提供服务,比如说token失败,或者用户名密码错误等等

404 Not Found //请求资源不存在，eg：输入了错误的URL

500 Internal Server Error //服务器发生不可预期的错误

503 Server Unavailable //服务器当前不能处理客户端的请求，一段时间后可能恢复正常

### 2. 消息报头

和请求头差不多,是相应给我们的头部信息,有可能包括服务器类型,返回文档类型,编码,时间等等,具体的信息可以用f12查看network,分辨点击不同的资源进行查看

* Cache-Control 用于指定缓存指令，缓存指令是单向的（响应中出现的缓存指令在请求中未必会出现），且是独立的（一个消息的缓存指令不会影响另一个消息处理的缓存机制），HTTP1.0使用的类似的报头域为Pragma。

* Location响应报头域用于重定向接受者到一个新的位置。Location响应报头域常用在更换域名的时候。
* Content-Encoding实体报头域被用作媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容的编码，因而要获得Content-Type报头域中所引用的媒体类型，必须采用相应的解码机制。Content-Encoding这样用于记录文档的压缩方法
* Content-Language实体报头域描述了资源所用的自然语言。没有设置该域则认为实体内容将提供给所有的语言阅读
* Content-Length实体报头域用于指明实体正文的长度，以字节方式存储的十进制数字来表示。
* Content-Type实体报头域用语指明发送给接收者的实体正文的媒体类型
* Last-Modified实体报头域用于指示资源的最后修改日期和时间。

### 3. 响应体

就是返回的数据内容,如果是一个html,就返回html文本

